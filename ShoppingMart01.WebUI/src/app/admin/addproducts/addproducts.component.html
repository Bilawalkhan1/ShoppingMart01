<!-- {{dynamicFormGroup.value| json}}
<form [formGroup]="dynamicFormGroup">
  <div class="col-md-12" *ngFor="let control of dynamicFormArray">
    <span *ngFor="let item of control">
      <div>
        <label> {{ item.label}} </label>
        <select [formControlName]="item.id">
          <option *ngFor="let val of item.value.split(',')" value="{{val}}">
            {{val}}
          </option>
        </select>
      </div>
    </span>
  </div>
</form> -->


<div class="container">
  <div class="row mt-3">
    <div class="card">
      <div class="card-body">
        <h1 class="card-title mb-4 text-center">Add Some Details</h1>
        <form [formGroup]="checkoutForm">
          <div class="row">
            <div class="form-row camera">
              <h2 class="heading2 ml-2">UPLOAD UP TO 7 PHOTOS</h2><br>
              <div style="display: flex" class="mr-3">
                <i class="fa fa-camera fa-4x" (click)="fileInput.click()">
                  <input style="display: none" multiple type="file" accept='image/*' (change)="handleFileSelect($event)"
                    required #fileInput filters="queueLimit">
                </i>
                <img class="image" *ngFor='let url of urls' [src]="url">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>
                  <h2 class="mt-3 mb-0 ml-2">Product Name</h2>
                </label>
                <input type="text" formControlName="Product_Name" class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.Product_Name.errors }" required>
              </div>
              <div *ngIf="submitted && f.Product_Name.errors" class="invalid-feedback">
                <div *ngIf="f.Product_Name.errors.required">Product Name required</div>
              </div>
            </div>

            <div class="form-row">
              <label for="">
                <h2 class="mt-0 mb-0">Description</h2>
              </label>
              <textarea rows="4" type="text-area" formControlName="Product_Description"
                placeholder="Enter Product Details" class="form-control"></textarea>
            </div>
            <div class="row">
              <div class="col-lg-6 col-md-6">
                <label for="">
                  <h2 class="mt-0 mb-0"> Category</h2>
                </label><input type="text" formControlName="category" class="form-control" readonly>
              </div>
              <div class="col-lg-6 col-md-6">
                <label for="">
                  <h2 class="mt-0 mb-0">Category Type</h2>
                </label>
                <input type="text" formControlName="type" class="form-control" readonly>
              </div>
            </div>
            
            <form [formGroup]="dynamicFormGroup">
              <div class="col-md-12" *ngFor="let control of dynamicFormArray">
                <span *ngFor="let item of control">
                  <div class="form-row">
                  <label for="">
                    <h2 class="mt-0 mb-0"> {{ item.label}}</h2>
                  </label>
               
                    <select class="form-select" [formControlName]="item.id">
                      <option *ngFor="let val of item.value.split(',')" value="{{val}}">
                        {{val}}
                      </option>
                    </select>
                  </div>
                </span>
              </div>
            </form>            
            
            <div class="form-row">
              <div class="form-group">
                <label>
                  <h2 class="mt-3 mb-0 ml-2">Price</h2>
                </label>
                <input class="form-control " formControlName="Product_Price" placeholder="Enter Price" type="number">            
              </div>
            </div>
          
              <div class="form-row">
                <label class="filterlabel">
                  <h2 class="mt-0 mb-0">Province</h2>
                </label>
                <select class="form-select" placeholder="Select Province" formControlName="province"
                  (change)="changeProvince($event.target.value)">
                  <option *ngFor="let count of provinceList">{{count.name}} </option>
                </select>
              </div>

              <div *ngIf="cities.length>0">
                <label class="filterlabel">
                  <h2 class="mt-0 mb-0"></h2>City
                </label>
                <select class="form-select" formControlName="city" placeholder="Anycity">
                  <option *ngFor="let city of cities">{{city}} </option>
                </select>
              </div>
            <br>
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <button class="btn btn-primary btn-style" type="submit" (click)="onUpload()"> Post Now </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>